openapi: "3.0.0"
info:
  description: "Proposal for a Restfull API with a data model inspired by https://github.com/Boavizta/PCR-SI_dataformat/\n\
    \\\n    Only a Simple CRUD on Report is specified\n\nPost is use to post a report\
    \ request\\\n    \\  with the inventory and electricy / energy mix and should\
    \ reply  an http status\\\n    \\ code 202  with  URI  of future report\nGet is\
    \ use to retrieve a specific report\\\n    \\ whit its ID\nFind is use de find\
    \ a report with some criterias\n\nSub Resource\\\n    \\ management may be designing\""
  version: "0.2.1_inProgress"
  title: "PCR_SI"
tags:
- name: "Reports"
- name: "Reportrequests"
- name: "References"
paths:
  /reports:
    get:
      tags:
      - "Reports"
      operationId: "reportFind"
      summary: "find report"
      parameters:
      - name: "organisation"
        required: false
        in: "query"
        schema:
          type: "string"
      - name: "provider"
        required: false
        in: "query"
        schema:
          type: "string"
      - name: "date"
        required: false
        in: "query"
        schema:
          type: "string"
          format: "date"
      - name: "limit"
        required: false
        in: "query"
        schema:
          type: "integer"
          format: "int32"
          default: 10
          maximum: 50
          minimum: 1
      - name: "offset"
        required: false
        in: "query"
        schema:
          type: "integer"
          format: "int32"
          default: 0
          minimum: 0
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Report"
  /reports/{reportId}:
    get:
      tags:
      - "Reports"
      operationId: "reportGet"
      summary: "get report"
      parameters:
      - name: "reportId"
        required: true
        in: "path"
        schema:
          type: "string"
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                $ref: "#/components/schemas/Report"
              examples:
                reportSample:
                  value: "{   \"reportId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,   \"metadata\": {     \"organization\": \"My company\",    \
                    \ \"dataset\": \"IS LCA 2024\",     \"timestamp\": \"2024-03-26T18:54:51.856Z\"\
                    ,     \"provider\": \"A software\",     \"sources\": [       {\
                    \         \"name\": \"NegaOctet\",         \"version\": \"1.02\"\
                    ,         \"href\": \"https://fakeUrl.org\"       }     ],   \
                    \  \"version\": \"4.0 \",     \"indicators\": [       {      \
                    \       \"indicator\": \"GWP\",             \"source\": \"Reference\
                    \ to IPPC X\",             \"unit\": \"kg CO2e\"       }]   },\
                    \   \"total_impact\": {     \"build\": {       \"AP\": 0,    \
                    \   \"GWP\": 0,       \"CTUe\": 0,       \"Epf\": 0,       \"\
                    Epm\": 0,       \"Ept\": 0,       \"CTUh-c\": 0,       \"CTUh-nc\"\
                    : 0,       \"IR\": 0,       \"LU\": 0,       \"MIPS\": 0,    \
                    \   \"ODP\": 0,       \"PM\": 0,       \"POCP\": 0,       \"ADPf\"\
                    : 0,       \"ADPe\": 0,       \"TPE\": 0,       \"WU\": 0    \
                    \ },     \"distribution\": {       \"AP\": 0,       \"GWP\": 0,\
                    \       \"CTUe\": 0,       \"Epf\": 0,       \"Epm\": 0,     \
                    \  \"Ept\": 0,       \"CTUh-c\": 0,       \"CTUh-nc\": 0,    \
                    \   \"IR\": 0,       \"LU\": 0,       \"MIPS\": 0,       \"ODP\"\
                    : 0,       \"PM\": 0,       \"POCP\": 0,       \"ADPf\": 0,  \
                    \     \"ADPe\": 0,       \"TPE\": 0,       \"WU\": 0     },  \
                    \   \"use\": {       \"AP\": 0,       \"GWP\": 0,       \"CTUe\"\
                    : 0,       \"Epf\": 0,       \"Epm\": 0,       \"Ept\": 0,   \
                    \    \"CTUh-c\": 0,       \"CTUh-nc\": 0,       \"IR\": 0,   \
                    \    \"LU\": 0,       \"MIPS\": 0,       \"ODP\": 0,       \"\
                    PM\": 0,       \"POCP\": 0,       \"ADPf\": 0,       \"ADPe\"\
                    : 0,       \"TPE\": 0,       \"WU\": 0     },     \"endOfLife\"\
                    : {       \"AP\": 0,       \"GWP\": 0,       \"CTUe\": 0,    \
                    \   \"Epf\": 0,       \"Epm\": 0,       \"Ept\": 0,       \"CTUh-c\"\
                    : 0,       \"CTUh-nc\": 0,       \"IR\": 0,       \"LU\": 0, \
                    \      \"MIPS\": 0,       \"ODP\": 0,       \"PM\": 0,       \"\
                    POCP\": 0,       \"ADPf\": 0,       \"ADPe\": 0,       \"TPE\"\
                    : 0,       \"WU\": 0     }   },   \"tags\": [     {       \"name\"\
                    : \"Datacenter\",       \"impacts\": {         \"AP\": 0,    \
                    \     \"GWP\": 0,         \"CTUe\": 0,         \"Epf\": 0,   \
                    \      \"Epm\": 0,         \"Ept\": 0,         \"CTUh-c\": 0,\
                    \         \"CTUh-nc\": 0,         \"IR\": 0,         \"LU\": 0,\
                    \         \"MIPS\": 0,         \"ODP\": 0,         \"PM\": 0,\
                    \         \"POCP\": 0,         \"ADPf\": 0,         \"ADPe\":\
                    \ 0,         \"TPE\": 0,         \"WU\": 0       }     }   ],\
                    \   \"quality\": {     \"high\": 0.1,     \"medium\": 0.8,   \
                    \  \"low\": 0.1   },   \"detailed_impact\": [     {       \"equipementType\"\
                    : \"LAPTOP\",       \"equipementName\": \"string\",       \"tags\"\
                    : \"string\",       \"quality\": \"HIGH\",       \"impact\": {\
                    \         \"build\": {           \"AP\": 0,           \"GWP\"\
                    : 0,           \"CTUe\": 0,           \"Epf\": 0,           \"\
                    Epm\": 0,           \"Ept\": 0,           \"CTUh-c\": 0,     \
                    \      \"CTUh-nc\": 0,           \"IR\": 0,           \"LU\":\
                    \ 0,           \"MIPS\": 0,           \"ODP\": 0,           \"\
                    PM\": 0,           \"POCP\": 0,           \"ADPf\": 0,       \
                    \    \"ADPe\": 0,           \"TPE\": 0,           \"WU\": 0  \
                    \       },         \"distribution\": {           \"AP\": 0,  \
                    \         \"GWP\": 0,           \"CTUe\": 0,           \"Epf\"\
                    : 0,           \"Epm\": 0,           \"Ept\": 0,           \"\
                    CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\": 0,  \
                    \         \"LU\": 0,           \"MIPS\": 0,           \"ODP\"\
                    : 0,           \"PM\": 0,           \"POCP\": 0,           \"\
                    ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,      \
                    \     \"WU\": 0         },         \"use\": {           \"AP\"\
                    : 0,           \"GWP\": 0,           \"CTUe\": 0,           \"\
                    Epf\": 0,           \"Epm\": 0,           \"Ept\": 0,        \
                    \   \"CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\"\
                    : 0,           \"LU\": 0,           \"MIPS\": 0,           \"\
                    ODP\": 0,           \"PM\": 0,           \"POCP\": 0,        \
                    \   \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,\
                    \           \"WU\": 0         },         \"endOfLife\": {    \
                    \       \"AP\": 0,           \"GWP\": 0,           \"CTUe\": 0,\
                    \           \"Epf\": 0,           \"Epm\": 0,           \"Ept\"\
                    : 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0,      \
                    \     \"IR\": 0,           \"LU\": 0,           \"MIPS\": 0, \
                    \          \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         }       },       \"source\"\
                    : \"http://aws.com/iuefrbiupdhu√ße343U32\",       \"provider\"\
                    : \"AWS CSR declaration 2024 - 1.0\"     }   ],   \"requestId\"\
                    : \"string\" }"
  /reportrequests:
    get:
      tags:
      - "Reportrequests"
      operationId: "reportRequestFind"
      summary: "find reportRequest"
      parameters:
      - name: "status"
        required: false
        in: "query"
        schema:
          type: "string"
      - name: "organisation"
        required: false
        in: "query"
        schema:
          type: "string"
      - name: "limit"
        required: false
        in: "query"
        schema:
          type: "integer"
          format: "int32"
          default: 10
          maximum: 50
          minimum: 1
      - name: "offset"
        required: false
        in: "query"
        schema:
          type: "integer"
          format: "int32"
          default: 0
          minimum: 0
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/ReportRequest"
    post:
      tags:
      - "Reportrequests"
      operationId: "reportrequestsCreate"
      summary: "create reportrequests"
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              $ref: "#/components/schemas/ReportRequest"
            examples:
              postRequest:
                value: "{   \"organisation\": \"My company\",   \"dataset\": \"IS\
                  \ LCA 2024\",   \"electricity\": [     {       \"typeOfReference\"\
                  : \"Electricity\",       \"name\": \"France\",       \"impacts\"\
                  : {         \"build\": {           \"AP\": 0,           \"GWP\"\
                  : 0,           \"CTUe\": 0,           \"Epf\": 0,           \"Epm\"\
                  : 0,           \"Ept\": 0,           \"CTUh-c\": 0,           \"\
                  CTUh-nc\": 0,           \"IR\": 0,           \"LU\": 0,        \
                  \   \"MIPS\": 0,           \"ODP\": 0,           \"PM\": 0,    \
                  \       \"POCP\": 0,           \"ADPf\": 0,           \"ADPe\":\
                  \ 0,           \"TPE\": 0,           \"WU\": 0         },      \
                  \   \"distribution\": {           \"AP\": 0,           \"GWP\":\
                  \ 0,           \"CTUe\": 0,           \"Epf\": 0,           \"Epm\"\
                  : 0,           \"Ept\": 0,           \"CTUh-c\": 0,           \"\
                  CTUh-nc\": 0,           \"IR\": 0,           \"LU\": 0,        \
                  \   \"MIPS\": 0,           \"ODP\": 0,           \"PM\": 0,    \
                  \       \"POCP\": 0,           \"ADPf\": 0,           \"ADPe\":\
                  \ 0,           \"TPE\": 0,           \"WU\": 0         },      \
                  \   \"use\": {           \"AP\": 0,           \"GWP\": 0,      \
                  \     \"CTUe\": 0,           \"Epf\": 0,           \"Epm\": 0, \
                  \          \"Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\"\
                  : 0,           \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                  : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                  : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                  TPE\": 0,           \"WU\": 0         },         \"endOfLife\":\
                  \ {           \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                  : 0,           \"Epf\": 0,           \"Epm\": 0,           \"Ept\"\
                  : 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0,        \
                  \   \"IR\": 0,           \"LU\": 0,           \"MIPS\": 0,     \
                  \      \"ODP\": 0,           \"PM\": 0,           \"POCP\": 0, \
                  \          \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\"\
                  : 0,           \"WU\": 0         }       },       \"source\": \"\
                  string\"     }   ],   \"inventory\": [     {       \"equipement_type\"\
                  : \"LAPTOP\",       \"equipement_name\": \"Generic - Mid range\"\
                  ,       \"quantity\": 5,       \"unit\": \"one\",       \"lifetime\"\
                  : 5,       \"quality\": \"HIGH\",       \"yearly_electricity_consupmtion_in_kwh\"\
                  : 120,       \"mix_of_use\": \"France\",       \"tag\": \"USE\"\
                  ,       \"impacts\": {         \"build\": {           \"AP\": 0,\
                  \           \"GWP\": 0,           \"CTUe\": 0,           \"Epf\"\
                  : 0,           \"Epm\": 0,           \"Ept\": 0,           \"CTUh-c\"\
                  : 0,           \"CTUh-nc\": 0,           \"IR\": 0,           \"\
                  LU\": 0,           \"MIPS\": 0,           \"ODP\": 0,          \
                  \ \"PM\": 0,           \"POCP\": 0,           \"ADPf\": 0,     \
                  \      \"ADPe\": 0,           \"TPE\": 0,           \"WU\": 0  \
                  \       },         \"distribution\": {           \"AP\": 0,    \
                  \       \"GWP\": 0,           \"CTUe\": 0,           \"Epf\": 0,\
                  \           \"Epm\": 0,           \"Ept\": 0,           \"CTUh-c\"\
                  : 0,           \"CTUh-nc\": 0,           \"IR\": 0,           \"\
                  LU\": 0,           \"MIPS\": 0,           \"ODP\": 0,          \
                  \ \"PM\": 0,           \"POCP\": 0,           \"ADPf\": 0,     \
                  \      \"ADPe\": 0,           \"TPE\": 0,           \"WU\": 0  \
                  \       },         \"use\": {           \"AP\": 0,           \"\
                  GWP\": 0,           \"CTUe\": 0,           \"Epf\": 0,         \
                  \  \"Epm\": 0,           \"Ept\": 0,           \"CTUh-c\": 0,  \
                  \         \"CTUh-nc\": 0,           \"IR\": 0,           \"LU\"\
                  : 0,           \"MIPS\": 0,           \"ODP\": 0,           \"PM\"\
                  : 0,           \"POCP\": 0,           \"ADPf\": 0,           \"\
                  ADPe\": 0,           \"TPE\": 0,           \"WU\": 0         },\
                  \         \"endOfLife\": {           \"AP\": 0,           \"GWP\"\
                  : 0,           \"CTUe\": 0,           \"Epf\": 0,           \"Epm\"\
                  : 0,           \"Ept\": 0,           \"CTUh-c\": 0,           \"\
                  CTUh-nc\": 0,           \"IR\": 0,           \"LU\": 0,        \
                  \   \"MIPS\": 0,           \"ODP\": 0,           \"PM\": 0,    \
                  \       \"POCP\": 0,           \"ADPf\": 0,           \"ADPe\":\
                  \ 0,           \"TPE\": 0,           \"WU\": 0         }       }\
                  \     }   ] }"
      responses:
        "201":
          description: "Created"
          content:
            application/json;charset=utf-8:
              schema:
                $ref: "#/components/schemas/ReportRequest"
              examples:
                reportRequest:
                  value: "{   \"reportId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,   \"organisation\": \"My company\",   \"dataset\": \"IS LCA\
                    \ 2024\",   \"electricity\": [     {       \"typeOfReference\"\
                    : \"Electricity\",       \"name\": \"France\",       \"impacts\"\
                    : {         \"build\": {           \"AP\": 0,           \"GWP\"\
                    : 0,           \"CTUe\": 0,           \"Epf\": 0,           \"\
                    Epm\": 0,           \"Ept\": 0,           \"CTUh-c\": 0,     \
                    \      \"CTUh-nc\": 0,           \"IR\": 0,           \"LU\":\
                    \ 0,           \"MIPS\": 0,           \"ODP\": 0,           \"\
                    PM\": 0,           \"POCP\": 0,           \"ADPf\": 0,       \
                    \    \"ADPe\": 0,           \"TPE\": 0,           \"WU\": 0  \
                    \       },         \"distribution\": {           \"AP\": 0,  \
                    \         \"GWP\": 0,           \"CTUe\": 0,           \"Epf\"\
                    : 0,           \"Epm\": 0,           \"Ept\": 0,           \"\
                    CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\": 0,  \
                    \         \"LU\": 0,           \"MIPS\": 0,           \"ODP\"\
                    : 0,           \"PM\": 0,           \"POCP\": 0,           \"\
                    ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,      \
                    \     \"WU\": 0         },         \"use\": {           \"AP\"\
                    : 0,           \"GWP\": 0,           \"CTUe\": 0,           \"\
                    Epf\": 0,           \"Epm\": 0,           \"Ept\": 0,        \
                    \   \"CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\"\
                    : 0,           \"LU\": 0,           \"MIPS\": 0,           \"\
                    ODP\": 0,           \"PM\": 0,           \"POCP\": 0,        \
                    \   \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,\
                    \           \"WU\": 0         },         \"endOfLife\": {    \
                    \       \"AP\": 0,           \"GWP\": 0,           \"CTUe\": 0,\
                    \           \"Epf\": 0,           \"Epm\": 0,           \"Ept\"\
                    : 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0,      \
                    \     \"IR\": 0,           \"LU\": 0,           \"MIPS\": 0, \
                    \          \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         }       },       \"source\"\
                    : \"string\"     }   ],   \"inventory\": [     {       \"equipement_type\"\
                    : \"LAPTOP\",       \"equipement_name\": \"Generic - Mid range\"\
                    ,       \"quantity\": 5,       \"unit\": \"one\",       \"lifetime\"\
                    : 5,       \"quality\": \"HIGH\",       \"yearly_electricity_consupmtion_in_kwh\"\
                    : 120,       \"mix_of_use\": \"France\",       \"tag\": \"USE\"\
                    ,       \"impacts\": {         \"build\": {           \"AP\":\
                    \ 0,           \"GWP\": 0,           \"CTUe\": 0,           \"\
                    Epf\": 0,           \"Epm\": 0,           \"Ept\": 0,        \
                    \   \"CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\"\
                    : 0,           \"LU\": 0,           \"MIPS\": 0,           \"\
                    ODP\": 0,           \"PM\": 0,           \"POCP\": 0,        \
                    \   \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,\
                    \           \"WU\": 0         },         \"distribution\": { \
                    \          \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         },         \"use\": {  \
                    \         \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         },         \"endOfLife\"\
                    : {           \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         }       }     }   ],   \"\
                    status\": {     \"reportId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,     \"reportUri\": \"/report/3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,     \"state\": \"PROCESSING\"   } }"
  /reportrequests/{reportRequestId}:
    get:
      tags:
      - "Reportrequests"
      operationId: "reportRequestGet"
      summary: "get reportRequest"
      parameters:
      - name: "reportRequestId"
        required: true
        in: "path"
        schema:
          type: "string"
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                $ref: "#/components/schemas/ReportRequest"
              examples:
                reportrequest:
                  value: "{   \"reportId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,   \"organisation\": \"My company\",   \"dataset\": \"IS LCA\
                    \ 2024\",   \"electricity\": [     {       \"typeOfReference\"\
                    : \"Electricity\",       \"name\": \"France\",       \"impacts\"\
                    : {         \"build\": {           \"AP\": 0,           \"GWP\"\
                    : 0,           \"CTUe\": 0,           \"Epf\": 0,           \"\
                    Epm\": 0,           \"Ept\": 0,           \"CTUh-c\": 0,     \
                    \      \"CTUh-nc\": 0,           \"IR\": 0,           \"LU\":\
                    \ 0,           \"MIPS\": 0,           \"ODP\": 0,           \"\
                    PM\": 0,           \"POCP\": 0,           \"ADPf\": 0,       \
                    \    \"ADPe\": 0,           \"TPE\": 0,           \"WU\": 0  \
                    \       },         \"distribution\": {           \"AP\": 0,  \
                    \         \"GWP\": 0,           \"CTUe\": 0,           \"Epf\"\
                    : 0,           \"Epm\": 0,           \"Ept\": 0,           \"\
                    CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\": 0,  \
                    \         \"LU\": 0,           \"MIPS\": 0,           \"ODP\"\
                    : 0,           \"PM\": 0,           \"POCP\": 0,           \"\
                    ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,      \
                    \     \"WU\": 0         },         \"use\": {           \"AP\"\
                    : 0,           \"GWP\": 0,           \"CTUe\": 0,           \"\
                    Epf\": 0,           \"Epm\": 0,           \"Ept\": 0,        \
                    \   \"CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\"\
                    : 0,           \"LU\": 0,           \"MIPS\": 0,           \"\
                    ODP\": 0,           \"PM\": 0,           \"POCP\": 0,        \
                    \   \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,\
                    \           \"WU\": 0         },         \"endOfLife\": {    \
                    \       \"AP\": 0,           \"GWP\": 0,           \"CTUe\": 0,\
                    \           \"Epf\": 0,           \"Epm\": 0,           \"Ept\"\
                    : 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0,      \
                    \     \"IR\": 0,           \"LU\": 0,           \"MIPS\": 0, \
                    \          \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         }       },       \"source\"\
                    : \"string\"     }   ],   \"inventory\": [     {       \"equipement_type\"\
                    : \"LAPTOP\",       \"equipement_name\": \"Generic - Mid range\"\
                    ,       \"quantity\": 5,       \"unit\": \"one\",       \"lifetime\"\
                    : 5,       \"quality\": \"HIGH\",       \"yearly_electricity_consupmtion_in_kwh\"\
                    : 120,       \"mix_of_use\": \"France\",       \"tag\": \"USE\"\
                    ,       \"impacts\": {         \"build\": {           \"AP\":\
                    \ 0,           \"GWP\": 0,           \"CTUe\": 0,           \"\
                    Epf\": 0,           \"Epm\": 0,           \"Ept\": 0,        \
                    \   \"CTUh-c\": 0,           \"CTUh-nc\": 0,           \"IR\"\
                    : 0,           \"LU\": 0,           \"MIPS\": 0,           \"\
                    ODP\": 0,           \"PM\": 0,           \"POCP\": 0,        \
                    \   \"ADPf\": 0,           \"ADPe\": 0,           \"TPE\": 0,\
                    \           \"WU\": 0         },         \"distribution\": { \
                    \          \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         },         \"use\": {  \
                    \         \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         },         \"endOfLife\"\
                    : {           \"AP\": 0,           \"GWP\": 0,           \"CTUe\"\
                    : 0,           \"Epf\": 0,           \"Epm\": 0,           \"\
                    Ept\": 0,           \"CTUh-c\": 0,           \"CTUh-nc\": 0, \
                    \          \"IR\": 0,           \"LU\": 0,           \"MIPS\"\
                    : 0,           \"ODP\": 0,           \"PM\": 0,           \"POCP\"\
                    : 0,           \"ADPf\": 0,           \"ADPe\": 0,           \"\
                    TPE\": 0,           \"WU\": 0         }       }     }   ],   \"\
                    status\": {     \"reportId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,     \"reportUri\": \"/report/3fa85f64-5717-4562-b3fc-2c963f66afa6\"\
                    ,     \"state\": \"PROCESSING\"   } }"
  /reportrequests/{reportRequestId}/status:
    get:
      tags:
      - "Reportrequests"
      operationId: "statusFind"
      summary: "find status"
      parameters:
      - name: "reportRequestId"
        required: true
        in: "path"
        schema:
          type: "string"
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                $ref: "#/components/schemas/Status"
  /references:
    get:
      tags:
      - "References"
      operationId: "referenceFind"
      summary: "find reference"
      responses:
        "200":
          description: "Ok"
          content:
            application/json;charset=utf-8:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Reference"
              examples:
                referenceSamble:
                  value: "[\n  {\"typeOfReference\":\"EQUIPMENT\", \n    \"equipementType\"\
                    : \"SERVER\", \n    \"references\": [\"Dell Proliant 12\"]\n \
                    \ }, \n  {\n    \"typeOfReference\": \"ELECTRICTY\",\n    \"name\"\
                    :\"France Energy mix 2022\", \n    \"impacts\": {\n        \"\
                    build\": {\n          \"AP\": 0,\n          \"GWP\": 0,\n    \
                    \      \"CTUe\": 0,\n          \"Epf\": 0,\n          \"Epm\"\
                    : 0,\n          \"Ept\": 0,\n          \"CTUh-c\": 0,\n      \
                    \    \"CTUh-nc\": 0,\n          \"IR\": 0,\n          \"LU\":\
                    \ 0,\n          \"MIPS\": 0,\n          \"ODP\": 0,\n        \
                    \  \"PM\": 0,\n          \"POCP\": 0,\n          \"ADPf\": 0,\n\
                    \          \"ADPe\": 0,\n          \"TPE\": 0,\n          \"WU\"\
                    : 0\n        },\n        \"distribution\": {\n          \"AP\"\
                    : 0,\n          \"GWP\": 0,\n          \"CTUe\": 0,\n        \
                    \  \"Epf\": 0,\n          \"Epm\": 0,\n          \"Ept\": 0,\n\
                    \          \"CTUh-c\": 0,\n          \"CTUh-nc\": 0,\n       \
                    \   \"IR\": 0,\n          \"LU\": 0,\n          \"MIPS\": 0,\n\
                    \          \"ODP\": 0,\n          \"PM\": 0,\n          \"POCP\"\
                    : 0,\n          \"ADPf\": 0,\n          \"ADPe\": 0,\n       \
                    \   \"TPE\": 0,\n          \"WU\": 0\n        },\n        \"use\"\
                    : {\n          \"AP\": 0,\n          \"GWP\": 0,\n          \"\
                    CTUe\": 0,\n          \"Epf\": 0,\n          \"Epm\": 0,\n   \
                    \       \"Ept\": 0,\n          \"CTUh-c\": 0,\n          \"CTUh-nc\"\
                    : 0,\n          \"IR\": 0,\n          \"LU\": 0,\n          \"\
                    MIPS\": 0,\n          \"ODP\": 0,\n          \"PM\": 0,\n    \
                    \      \"POCP\": 0,\n          \"ADPf\": 0,\n          \"ADPe\"\
                    : 0,\n          \"TPE\": 0,\n          \"WU\": 0\n        },\n\
                    \        \"endOfLife\": {\n          \"AP\": 0,\n          \"\
                    GWP\": 0,\n          \"CTUe\": 0,\n          \"Epf\": 0,\n   \
                    \       \"Epm\": 0,\n          \"Ept\": 0,\n          \"CTUh-c\"\
                    : 0,\n          \"CTUh-nc\": 0,\n          \"IR\": 0,\n      \
                    \    \"LU\": 0,\n          \"MIPS\": 0,\n          \"ODP\": 0,\n\
                    \          \"PM\": 0,\n          \"POCP\": 0,\n          \"ADPf\"\
                    : 0,\n          \"ADPe\": 0,\n          \"TPE\": 0,\n        \
                    \  \"WU\": 0\n        }\n      },\n      \"source\": \"string\"\
                    \n  }\n]"
servers:
- url: "/v1"
components:
  schemas:
    EQUIPEMENTTYPE:
      type: "string"
      enum:
      - "LAPTOP"
      - "NOT IT"
      - "SERVER"
      - "VIRTUAL MACHINE"
      - "CLOUD"
    Electricity:
      description: "\n\n**Polymorphism**\n\n  Parent: Reference\n\n  Discriminator:\
        \ typeOfReference"
      allOf:
      - $ref: "#/components/schemas/Reference"
      - required:
        - "name"
        - "impacts"
        - "source"
        type: "object"
        properties:
          name:
            description: "name of electricity mix"
            type: "string"
          impacts:
            $ref: "#/components/schemas/Impact"
          source:
            description: "electricity impact report source"
            type: "string"
            format: "uri"
    EquipementReference:
      description: "\n\n**Polymorphism**\n\n  Parent: Reference\n\n  Discriminator:\
        \ typeOfReference"
      allOf:
      - $ref: "#/components/schemas/Reference"
      - required:
        - "references"
        type: "object"
        properties:
          equipementType:
            $ref: "#/components/schemas/EQUIPEMENTTYPE"
          references:
            description: "list of equipment present in the repository"
            type: "array"
            items:
              type: "string"
    Impact:
      description: "global impact by lifecycle phase"
      required:
      - "build"
      - "distribution"
      - "use"
      - "endOfLife"
      type: "object"
      properties:
        build:
          $ref: "#/components/schemas/ImpactsByIndicators"
        distribution:
          $ref: "#/components/schemas/ImpactsByIndicators"
        use:
          $ref: "#/components/schemas/ImpactsByIndicators"
        endOfLife:
          $ref: "#/components/schemas/ImpactsByIndicators"
    ImpactDetail:
      required:
      - "equipementType"
      - "equipementName"
      - "tags"
      - "quality"
      - "impact"
      - "source"
      - "provider"
      type: "object"
      properties:
        equipementType:
          $ref: "#/components/schemas/EQUIPEMENTTYPE"
        equipementName:
          description: "name of the equipment (must be in the references)"
          type: "string"
        tags:
          description: "equipment location"
          type: "string"
        quality:
          $ref: "#/components/schemas/QUALITY"
        impact:
          $ref: "#/components/schemas/Impact"
        source:
          description: "reference LCA URI"
          type: "string"
          format: "uri"
        provider:
          description: "provider of reference LCA"
          type: "string"
    ImpactsByIndicators:
      description: "Impact by main indicators"
      required:
      - "AP"
      - "GWP"
      - "PM"
      - "ADPe"
      type: "object"
      properties:
        AP:
          description: "Acidification - mol H+ eq"
          type: "number"
          format: "float"
        GWP:
          description: "Climate change - kg CO2 eq"
          type: "number"
          format: "float"
        CTUe:
          description: "Ecotoxicity, freshwater - CTUe"
          type: "number"
          format: "float"
        Epf:
          description: "Eutrophication, freshwater - kg P eq"
          type: "number"
          format: "float"
        Epm:
          description: "Eutrophication, marine - kg N eq"
          type: "number"
          format: "float"
        Ept:
          description: "Eutrophication, terrestrial - kg N eq"
          type: "number"
          format: "float"
        CTUh-c:
          description: "Human toxicity, cancer - CTUh"
          type: "number"
          format: "float"
        CTUh-nc:
          description: "Human toxicity, non-cancer - CTUh"
          type: "number"
          format: "float"
        IR:
          description: "Ionising radiation,human health - kg U235 eq"
          type: "number"
          format: "float"
        LU:
          description: "Land use - Dimensionless"
          type: "number"
          format: "float"
        MIPS:
          description: "Material Input per Unit of Service - kg"
          type: "number"
          format: "float"
        ODP:
          description: "Ozone depletion - kg CFC-11 eq"
          type: "number"
          format: "float"
        PM:
          description: "Particulate matter - Disease occurrences"
          type: "number"
          format: "float"
        POCP:
          description: "Photochemical ozone formation - kg NMVOC eq"
          type: "number"
          format: "float"
        ADPf:
          description: "Resource use, fossils - MJ"
          type: "number"
          format: "float"
        ADPe:
          description: "Resource use, minerals and metals - kg Sb eq"
          type: "number"
          format: "float"
        TPE:
          description: "Total Primary Energy - MJ"
          type: "number"
          format: "float"
        WU:
          description: "Water use - m3 eq"
          type: "number"
          format: "float"
    Indicator:
      required:
      - "indicator"
      - "source"
      - "unit"
      type: "object"
      properties:
        indicator:
          description: "name of  indicator in this report"
          type: "string"
        source:
          type: "string"
        unit:
          description: "mesurement unit f indicator exemple : kg CO2e"
          type: "string"
    Inventory:
      required:
      - "equipement_type"
      - "equipement_name"
      - "quantity"
      - "unit"
      - "lifetime"
      - "quality"
      - "yearly_electricity_consupmtion_in_kwh"
      - "mix_of_use"
      - "impacts"
      type: "object"
      properties:
        equipement_type:
          $ref: "#/components/schemas/EQUIPEMENTTYPE"
        equipement_name:
          description: "name of the equipment (must be in the references)"
          type: "string"
        quantity:
          description: "quantity of the equipement"
          type: "integer"
          format: "int32"
        unit:
          type: "string"
        lifetime:
          description: "estimated lifetime of the equipment"
          type: "number"
          format: "float"
        quality:
          $ref: "#/components/schemas/QUALITY"
        yearly_electricity_consupmtion_in_kwh:
          type: "number"
          format: "float"
        mix_of_use:
          description: "electricity mix of use for this equipment (must be in the\
            \ references)"
          type: "string"
        tag:
          description: "equipment location"
          type: "string"
        impacts:
          $ref: "#/components/schemas/Impact"
    Metadata:
      required:
      - "organization"
      - "dataset"
      - "timestamp"
      - "provider"
      - "version"
      type: "object"
      properties:
        organization:
          description: "Organization Nane"
          type: "string"
        dataset:
          type: "string"
        timestamp:
          description: "report timestamp"
          type: "string"
          format: "date-time"
        provider:
          description: "Provider of this report"
          type: "string"
        sources:
          type: "array"
          items:
            $ref: "#/components/schemas/Source"
        version:
          type: "string"
        indicators:
          type: "array"
          items:
            $ref: "#/components/schemas/Indicator"
    QUALITY:
      type: "string"
      enum:
      - "HIGH"
      - "LOW"
      - "MEDIUM"
    Reference:
      description: "\n\n**Polymorphism**\n\n  Discriminator: typeOfReference\n\n \
        \ One of:\n  - Electricity\n  - EquipementReference"
      discriminator:
        propertyName: "typeOfReference"
        mapping:
          Electricity: "#/components/schemas/Electricity"
          EquipementReference: "#/components/schemas/EquipementReference"
      required:
      - "typeOfReference"
      type: "object"
      properties:
        typeOfReference:
          $ref: "#/components/schemas/TYPEOFREFERENCE"
    Report:
      required:
      - "metadata"
      - "total_impact"
      - "tags"
      - "quality"
      type: "object"
      properties:
        reportId:
          type: "string"
          format: "uuid"
        metadata:
          $ref: "#/components/schemas/Metadata"
        total_impact:
          $ref: "#/components/schemas/Impact"
        tags:
          description: "impacts by equipment location"
          type: "array"
          items:
            $ref: "#/components/schemas/Tag"
        quality:
          $ref: "#/components/schemas/ReportQuality"
        detailed_impact:
          description: "impact by equipment"
          type: "array"
          items:
            $ref: "#/components/schemas/ImpactDetail"
        requestId:
          type: "string"
    ReportQuality:
      required:
      - "high"
      - "medium"
      - "low"
      type: "object"
      properties:
        high:
          type: "number"
          format: "float"
        medium:
          type: "number"
          format: "float"
        low:
          type: "number"
          format: "float"
    ReportRequest:
      required:
      - "organisation"
      - "dataset"
      - "electricity"
      - "inventory"
      type: "object"
      properties:
        reportId:
          type: "string"
          format: "uuid"
        organisation:
          type: "string"
        dataset:
          type: "string"
        electricity:
          type: "array"
          items:
            $ref: "#/components/schemas/Electricity"
        inventory:
          description: "inventory to use for the report"
          type: "array"
          items:
            $ref: "#/components/schemas/Inventory"
        status:
          $ref: "#/components/schemas/Status"
    STATUS:
      type: "string"
      enum:
      - "AVAILABLE"
      - "PENDING"
      - "PROCESSING"
    Source:
      required:
      - "name"
      - "version"
      type: "object"
      properties:
        name:
          type: "string"
        version:
          type: "string"
        href:
          type: "string"
          format: "uri"
    Status:
      required:
      - "reportId"
      - "reportUri"
      - "state"
      type: "object"
      properties:
        reportId:
          type: "string"
          format: "uuid"
        reportUri:
          type: "string"
          format: "uri"
        state:
          $ref: "#/components/schemas/STATUS"
    TYPEOFREFERENCE:
      type: "string"
      enum:
      - "ELECTRICTY"
      - "EQUIPMENT"
    Tag:
      required:
      - "impacts"
      type: "object"
      properties:
        name:
          type: "string"
        impacts:
          $ref: "#/components/schemas/ImpactsByIndicators"
